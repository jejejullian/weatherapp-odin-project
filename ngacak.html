ğŸ§© 1. Import bagian atas
import { format } from 'date-fns';
import { formatInTimeZone } from 'date-fns-tz';
import {
  truncate,
  clearEl,
  kelTempToFahr,
  toggleTemp,
  toggleMinMax,
} from './helpers';


import = kita ambil fungsi dari file lain supaya bisa dipakai di sini.

date-fns dan date-fns-tz = library untuk memformat tanggal dan waktu (biar tampilannya rapi).

format = ubah tanggal jadi teks seperti â€œMonday November 3, 2025â€.

formatInTimeZone = ubah tanggal sesuai zona waktu (misalnya â€œAmerica/New_Yorkâ€).

truncate, clearEl, kelTempToFahr, toggleTemp, toggleMinMax = fungsi buatan sendiri dari file helpers.js.

truncate() = buang angka desimal (contoh: 23.8 jadi 23).

clearEl() = hapus isi elemen HTML.

kelTempToFahr() = ubah suhu dari Kelvin ke Fahrenheit.

toggleTemp() dan toggleMinMax() = ubah satuan suhu (antara Â°C dan Â°F).

ğŸŒ¤ï¸ 2. Fungsi renderDaily(obj)
function renderDaily(obj) {


Ini fungsi utama untuk menampilkan cuaca harian (hari ini) di tampilan kiri & kanan.

ğŸ” Ambil elemen dari HTML
const dataContainerLeft = document.querySelector('#dailyContainerLeft');
const dataContainerRight = document.querySelector('#dailyContainerRight');
const toggleContainer = document.querySelector('#toggleContainer');
const tempToggleSlider = document.querySelector('.toggle-checkbox');


â¡ï¸ Ambil elemen dari HTML berdasarkan ID dan class, misalnya #dailyContainerLeft untuk bagian kiri layar.

ğŸ”„ Persiapan data
const weatherString = JSON.stringify(obj);
let scaleBool = true;
clearEl(dataContainerLeft);
clearEl(dataContainerRight);


JSON.stringify(obj) = ubah data cuaca dari bentuk object jadi teks (string).

clearEl() = bersihkan isi HTML lama agar bisa diisi data baru.

scaleBool = true = menandakan suhu awal pakai Fahrenheit (kalau false mungkin Celsius).

ğŸ“¦ Cek apakah datanya ada
if (weatherString !== null) {
  const weatherObj = JSON.parse(weatherString);


Kalau datanya ada, ubah lagi dari teks (string) jadi object supaya bisa diakses seperti weatherObj.main.temp.

ğŸ§­ Ambil bagian penting dari data
const { dt, main, name, weather } = weatherObj;
let { temp, feels_like, humidity, temp_min, temp_max } = main;
const { description, icon } = weather[0];


{} ini namanya destructuring, cara cepat mengambil isi dari object.

Misalnya weatherObj.main.temp jadi cukup tulis temp.

weather[0] karena weather itu array (ada banyak kondisi cuaca, kita ambil yang pertama).

ğŸ”¢ Ubah satuan & simbol
const degreeSym = '&#176;'; // simbol derajat (Â°)
const percentSym = '&#x25;'; // simbol persen (%)
temp = kelTempToFahr(temp);
feels_like = kelTempToFahr(feels_like);
temp_min = kelTempToFahr(temp_min);
temp_max = kelTempToFahr(temp_max);


Ubah semua suhu dari Kelvin ke Fahrenheit agar lebih mudah dibaca.

ğŸ—“ï¸ Format tanggal
const date = new Date(dt * 1000);
const zonedDate = format(date, 'EEEE LLLL do, yyyy');


dt adalah timestamp dari API (satuan detik).

* 1000 karena Date() butuh milidetik.

format() bikin hasil seperti: â€œMonday November 3rd, 2025â€.

ğŸ§± Buat elemen HTML baru (bagian kiri)
const cityContainer = document.createElement('div');
cityContainer.setAttribute('id', 'cityDiv', 'class', 'weather-display__city-div');
const cityLi = document.createElement('h1');
const weatherListLeft = document.createElement('ul');
...


Dia bangun elemen HTML dari JavaScript, bukan langsung dari HTML file.
Jadi dia bikin <div>, <ul>, <li>, <img>, dll, untuk diisi data cuaca.

âœï¸ Isi elemen dengan data
cityLi.textContent = name;
dateLi.textContent = zonedDate;
tempLi.innerHTML = `${tempVal}${degreeSym}`;
weatherDesc.textContent = description;
weatherIcon.src = `http://openweathermap.org/img/wn/${icon}@2x.png`;


textContent = isi teks di tag HTML.

innerHTML = isi dengan teks + HTML.

src = link ke gambar ikon cuaca.

ğŸ“‹ Tambah elemen ke halaman
weatherListLeft.appendChild(cityContainer);
weatherListLeft.appendChild(dateLi);
...
dataContainerLeft.appendChild(weatherListLeft);
dataContainerRight.appendChild(weatherListRight);


â¡ï¸ Masukkan elemen yang sudah dibuat ke bagian kiri dan kanan tampilan (appendChild = tempelkan anak elemen ke dalam induk).

ğŸŒ¡ï¸ Ubah suhu kalau toggle ditekan
toggleTemp(tempToggleSlider, scaleBool, temp, tempLi, degreeSym);
toggleTemp(tempToggleSlider, scaleBool, feels_like, feelsLikeLi, degreeSym);
toggleMinMax(tempToggleSlider, scaleBool, tempMin, tempMax, tempMinMax, degreeSym);


â¡ï¸ Fungsi ini bikin tombol geser (toggle) bisa ubah suhu antara Â°F â†” Â°C secara langsung di layar.

ğŸŒ¦ï¸ 3. Fungsi renderFiveDay(obj)

Fungsinya mirip, tapi untuk prakiraan 5 hari (tiap 3 jam).

ğŸ§¼ Bersihkan & siapkan kontainer
const dataContainer = document.querySelector('#fiveDayContainer');
clearEl(dataContainer);


Kosongkan dulu tempatnya supaya tidak numpuk data lama.

ğŸ”„ Loop semua data cuaca 5 hari
weatherObj.list.forEach(weatherData => {


â¡ï¸ forEach artinya â€œulang untuk setiap item di daftarâ€.
Jadi dia ulangi semua data 3-jam-an dari API (total 40 kali untuk 5 hari).

ğŸ’§ Ambil data tiap jam
const { dt, main, weather, wind } = weatherData;
main.temp = kelTempToFahr(main.temp);


Ambil waktu (dt), suhu (main.temp), dan kondisi (weather).

â° Format waktu sesuai zona
const date = new Date(dt * 1000);
const timeZone = 'America/New_York';
const zonedDate = formatInTimeZone(date, timeZone, 'PPpp');


â¡ï¸ Jadikan waktu manusiawi seperti â€œNov 3, 2025, 3:00 PMâ€.

ğŸ–¼ï¸ Buat kartu kecil untuk tiap waktu
const displayDiv = document.createElement('div');
displayDiv.setAttribute('class', 'card');
...
tempLi.innerHTML = `${truncate(main.temp)}${degreeSym}`;


Setiap waktu cuaca dibuat seperti kartu kecil dengan suhu, deskripsi, dan ikon.

ğŸ“¥ Masukkan ke halaman
displayDiv.appendChild(fiveDayWeatherList);
dataContainer.appendChild(displayDiv);


Masukkan kartu itu ke dalam #fiveDayContainer.

ğŸ” Toggle suhu (C/F)
toggleTemp(tempToggleSlider, scaleBool, main.temp, tempLi, degreeSym);


â¡ï¸ Supaya ketika kamu geser tombol, semua suhu ikut berubah satuan.

ğŸš€ Terakhir: export fungsi
export { renderDaily, renderFiveDay };


Artinya dua fungsi ini bisa dipakai di file lain, misalnya main.js.